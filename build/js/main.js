"use strict";

var startGameBtn = document.querySelector('.main__game-machine-btn');
var startText = document.querySelector(".start-text");
var hookWrap = document.querySelector('.hook-wrap'); // батьківський елемент в якому знаходиться хук
var hookFastening = document.querySelector('.hook-fastering'); // елемент кріплення хука до gamebody

var gameBody = document.querySelector(".game-body"); // елемент до якого кріпиться хук і лінія на якій він спускається до монеток
var result = document.querySelector(".result"); // таблиця результатів гри
var coins = document.querySelector(".coins"); // батьківський елемент монеток
var gameOver = document.querySelector(".gameOver"); // екран який відображається по закінченню гри

var FS = document.querySelector(".FS");
var elemsInsideFS = FS.querySelectorAll("span"); //span елементи в які записується результат FS
var RFB = document.querySelector(".RFB");
var elemsInsideRFB = RFB.querySelectorAll("span"); //span елементи в які записується результат RFB
var EUR = document.querySelector(".EUR");
var elemsInsideEUR = EUR.querySelectorAll("span"); //span елементи в які записується результат EUR
var coin3 = document.querySelector(".coin3"); // монетка яка буде спіймана першою
var coin4 = document.querySelector(".coin4"); // монетка яка буде спіймана другою
var frameCounter = 0; // потрібен для відстежування ключових точок анімації
startGameBtn.addEventListener("click", function () {
  startText.style.display = "none";
  hookWrap.classList.add("hook-move-horizontal"); // запуск гри
});

coin3.addEventListener("animationend", function () {
  // відстежуємо момент закінчкення анімації першого монетки для запуску циклу анімацій другої монетки
  frameCounter++; //збільшує frameCounter кожного разу коли відбувається анімація першої монетки
  // console.log(`coin ${frameCounter}`)

  //прибираємо стилі анімації першого хука
  hookWrap.classList.remove("hook-catch1-up");
  hookFastening.classList.remove("hook-fastering-catch1-up");
  hookWrap.classList.remove("hook-catch1-down");
  hookFastening.classList.remove("hook-fastering-catch1-down");

  // прибираємо класи відпрацьованої анімації руху та додаємо анімацію зникнення монетки
  coin3.classList.remove("coin-catch");
  coin3.classList.add("coin-disappearance");
  coin3.style.opacity = "0";

  // анімація оновлення FS на таблиці запускається після завершення анімації зникнення першої монетки
  if (frameCounter === 7) {
    elemsInsideFS.forEach(function (item, i) {
      if (i === 0) {
        item.style.opacity = "0";
        item.textContent = '1';
        setTimeout(function () {
          item.style.opacity = "1";
        }, 500);
      }
      if (i === 1) {
        setTimeout(function () {
          item.style.opacity = "0";
          item.textContent = '5';
          setTimeout(function () {
            item.style.opacity = "1";
            hookWrap.classList.add("hook-move-horizontal2"); // ініціюємо анімацію руху до другої монетки
          }, 500);
        }, 200);
      }
    });
  }
});
coin4.addEventListener("animationend", function () {
  frameCounter++; //збільшує frameCounter кожного разу коли відбувається анімація другої монетки
  // console.log(`coin ${frameCounter}`)

  //прибираємо стилі анімації другого хука
  hookWrap.classList.remove("hook-catch2-up");
  hookFastening.classList.remove("hook-fastering-catch2-up");
  hookWrap.classList.remove("hook-catch2-down");
  hookFastening.classList.remove("hook-fastering-catch2-down");

  // прибираємо класи відпрацьованої анімації руху та додаємо анімацію зникнення другої монетки
  coin4.classList.remove("coin-catch");
  coin4.classList.add("coin-disappearance");
  coin4.style.opacity = "0";

  // анімація оновлення RFB та EUR на таблиці запускається після завершення анімації зникнення другої монетки
  if (frameCounter === 14) {
    elemsInsideRFB.forEach(function (item, i) {
      if (i === 0) {
        item.style.opacity = "0";
        item.textContent = '1';
        setTimeout(function () {
          item.style.opacity = "1";
        }, 500);
      }
      if (i === 1) {
        setTimeout(function () {
          item.style.opacity = "0";
          item.textContent = '0';
          setTimeout(function () {
            item.style.opacity = "1";
          }, 500);
        }, 200);
      }
    });
    elemsInsideEUR.forEach(function (item, i) {
      if (i === 0) {
        item.style.opacity = "0";
        item.textContent = '1';
        setTimeout(function () {
          item.style.opacity = "1";
        }, 500);
      }
      if (i === 1) {
        setTimeout(function () {
          item.style.opacity = "0";
          item.textContent = '0';
          setTimeout(function () {
            item.style.opacity = "1";

            // приховуємо елементи гри і відображаємо екран закінчення
            setTimeout(function () {
              gameBody.style.opacity = "0";
              result.style.opacity = "0";
              coins.style.opacity = "0";
              gameOver.style.opacity = "1";
              gameOver.style.zIndex = "10";
            }, 500);
          }, 500);
        }, 200);
      }
    });
  }
});
hookWrap.addEventListener("animationend", function () {
  frameCounter++; // збільшує frameCounter кожного разу коли відбувається анімація хука
  // console.log(frameCounter)
  if (frameCounter === 1) {
    //фіксація хука перед першою монетою
    hookWrap.classList.add("hook-position-catch1");
  }
  if (frameCounter === 3) {
    // логіка руху першої монетки після того як її хукнули
    coin3.classList.add("coin-catch");
    hookWrap.classList.add("hook-catch1-up");
    hookFastening.classList.add("hook-fastering-catch1-up");
  }
  if (frameCounter < 7) {
    // логіка анімації руху хука до першої монетки
    hookWrap.classList.remove("hook-move-horizontal");
    hookWrap.classList.add("hook-catch1-down");
    hookFastening.classList.add("hook-fastering-catch1-down");
  }
  if (frameCounter === 8) {
    // логіка анімації руху хука до другої монетки
    hookWrap.classList.remove("hook-move-horizontal2");
    hookWrap.classList.add("hook-position-catch2");
    hookWrap.classList.add("hook-catch2-down");
    hookFastening.classList.add("hook-fastering-catch2-down");
  }
  if (frameCounter === 10) {
    // логіка руху другої монетки після того як її хукнули
    hookWrap.classList.add("hook-catch2-up");
    hookFastening.classList.add("hook-fastering-catch2-up");
    coin4.classList.add("coin-catch");
  }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic3RhcnRHYW1lQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3RhcnRUZXh0IiwiaG9va1dyYXAiLCJob29rRmFzdGVuaW5nIiwiZ2FtZUJvZHkiLCJyZXN1bHQiLCJjb2lucyIsImdhbWVPdmVyIiwiRlMiLCJlbGVtc0luc2lkZUZTIiwicXVlcnlTZWxlY3RvckFsbCIsIlJGQiIsImVsZW1zSW5zaWRlUkZCIiwiRVVSIiwiZWxlbXNJbnNpZGVFVVIiLCJjb2luMyIsImNvaW40IiwiZnJhbWVDb3VudGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0eWxlIiwiZGlzcGxheSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsIm9wYWNpdHkiLCJmb3JFYWNoIiwiaXRlbSIsImkiLCJ0ZXh0Q29udGVudCIsInNldFRpbWVvdXQiLCJ6SW5kZXgiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsWUFBWSxHQUFHQyxRQUFRLENBQUNDLGFBQWEsQ0FBQyx5QkFBeUIsQ0FBQztBQUN0RSxJQUFNQyxTQUFTLEdBQUdGLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLGFBQWEsQ0FBQztBQUV2RCxJQUFNRSxRQUFRLEdBQUdILFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7QUFDdkQsSUFBTUcsYUFBYSxHQUFHSixRQUFRLENBQUNDLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7O0FBRWpFLElBQU1JLFFBQVEsR0FBR0wsUUFBUSxDQUFDQyxhQUFhLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztBQUN2RCxJQUFNSyxNQUFNLEdBQUdOLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7QUFDbEQsSUFBTU0sS0FBSyxHQUFHUCxRQUFRLENBQUNDLGFBQWEsQ0FBQyxRQUFRLENBQUMsRUFBQztBQUMvQyxJQUFNTyxRQUFRLEdBQUdSLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7O0FBR3RELElBQU1RLEVBQUUsR0FBR1QsUUFBUSxDQUFDQyxhQUFhLENBQUMsS0FBSyxDQUFDO0FBQ3hDLElBQU1TLGFBQWEsR0FBR0QsRUFBRSxDQUFDRSxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsRUFBQztBQUNsRCxJQUFNQyxHQUFHLEdBQUdaLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLE1BQU0sQ0FBQztBQUMxQyxJQUFNWSxjQUFjLEdBQUdELEdBQUcsQ0FBQ0QsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFDckQsSUFBTUcsR0FBRyxHQUFHZCxRQUFRLENBQUNDLGFBQWEsQ0FBQyxNQUFNLENBQUM7QUFDMUMsSUFBTWMsY0FBYyxHQUFHRCxHQUFHLENBQUNILGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxFQUFFO0FBQ3JELElBQU1LLEtBQUssR0FBR2hCLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLFFBQVEsQ0FBQyxFQUFDO0FBQy9DLElBQU1nQixLQUFLLEdBQUdqQixRQUFRLENBQUNDLGFBQWEsQ0FBQyxRQUFRLENBQUMsRUFBQztBQUMvQyxJQUFJaUIsWUFBWSxHQUFHLENBQUMsRUFBQztBQUNyQm5CLFlBQVksQ0FBQ29CLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxZQUFNO0VBQ3pDakIsU0FBUyxDQUFDa0IsS0FBSyxDQUFDQyxPQUFPLEdBQUcsTUFBTTtFQUNoQ2xCLFFBQVEsQ0FBQ21CLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQztBQUNwRCxDQUFDLENBQUM7O0FBQ0ZQLEtBQUssQ0FBQ0csZ0JBQWdCLENBQUMsY0FBYyxFQUFFLFlBQUs7RUFBRTtFQUMxQ0QsWUFBWSxFQUFFLEVBQUM7RUFDZjs7RUFFQTtFQUNBZixRQUFRLENBQUNtQixTQUFTLENBQUNFLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztFQUMzQ3BCLGFBQWEsQ0FBQ2tCLFNBQVMsQ0FBQ0UsTUFBTSxDQUFDLDBCQUEwQixDQUFDO0VBQzFEckIsUUFBUSxDQUFDbUIsU0FBUyxDQUFDRSxNQUFNLENBQUMsa0JBQWtCLENBQUM7RUFDN0NwQixhQUFhLENBQUNrQixTQUFTLENBQUNFLE1BQU0sQ0FBQyw0QkFBNEIsQ0FBQzs7RUFFNUQ7RUFDQVIsS0FBSyxDQUFDTSxTQUFTLENBQUNFLE1BQU0sQ0FBQyxZQUFZLENBQUM7RUFDcENSLEtBQUssQ0FBQ00sU0FBUyxDQUFDQyxHQUFHLENBQUMsb0JBQW9CLENBQUM7RUFDekNQLEtBQUssQ0FBQ0ksS0FBSyxDQUFDSyxPQUFPLEdBQUcsR0FBRzs7RUFFekI7RUFDQSxJQUFHUCxZQUFZLEtBQUssQ0FBQyxFQUFDO0lBQ2xCUixhQUFhLENBQUNnQixPQUFPLENBQUUsVUFBQ0MsSUFBSSxFQUFFQyxDQUFDLEVBQU07TUFDakMsSUFBSUEsQ0FBQyxLQUFLLENBQUMsRUFBQztRQUNSRCxJQUFJLENBQUNQLEtBQUssQ0FBQ0ssT0FBTyxHQUFHLEdBQUc7UUFDeEJFLElBQUksQ0FBQ0UsV0FBVyxHQUFHLEdBQUc7UUFDdEJDLFVBQVUsQ0FBQyxZQUFLO1VBQUNILElBQUksQ0FBQ1AsS0FBSyxDQUFDSyxPQUFPLEdBQUcsR0FBRztRQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7TUFDckQ7TUFDQSxJQUFJRyxDQUFDLEtBQUssQ0FBQyxFQUFDO1FBQ1JFLFVBQVUsQ0FBQyxZQUFLO1VBQ1pILElBQUksQ0FBQ1AsS0FBSyxDQUFDSyxPQUFPLEdBQUcsR0FBRztVQUN4QkUsSUFBSSxDQUFDRSxXQUFXLEdBQUcsR0FBRztVQUN0QkMsVUFBVSxDQUFDLFlBQUs7WUFDUkgsSUFBSSxDQUFDUCxLQUFLLENBQUNLLE9BQU8sR0FBRyxHQUFHO1lBQ3hCdEIsUUFBUSxDQUFDbUIsU0FBUyxDQUFDQyxHQUFHLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxDQUFDO1VBQ3JELENBQUMsRUFBRSxHQUFHLENBQUM7UUFDZixDQUFDLEVBQUUsR0FBRyxDQUFDO01BRVg7SUFDSixDQUFDLENBQUM7RUFDTjtBQUNKLENBQUMsQ0FBQztBQUNGTixLQUFLLENBQUNFLGdCQUFnQixDQUFDLGNBQWMsRUFBRSxZQUFJO0VBQ3ZDRCxZQUFZLEVBQUUsRUFBQztFQUNmOztFQUVBO0VBQ0FmLFFBQVEsQ0FBQ21CLFNBQVMsQ0FBQ0UsTUFBTSxDQUFDLGdCQUFnQixDQUFDO0VBQzNDcEIsYUFBYSxDQUFDa0IsU0FBUyxDQUFDRSxNQUFNLENBQUMsMEJBQTBCLENBQUM7RUFDMURyQixRQUFRLENBQUNtQixTQUFTLENBQUNFLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQztFQUM3Q3BCLGFBQWEsQ0FBQ2tCLFNBQVMsQ0FBQ0UsTUFBTSxDQUFDLDRCQUE0QixDQUFDOztFQUU1RDtFQUNBUCxLQUFLLENBQUNLLFNBQVMsQ0FBQ0UsTUFBTSxDQUFDLFlBQVksQ0FBQztFQUNwQ1AsS0FBSyxDQUFDSyxTQUFTLENBQUNDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQztFQUN6Q04sS0FBSyxDQUFDRyxLQUFLLENBQUNLLE9BQU8sR0FBRyxHQUFHOztFQUV6QjtFQUNBLElBQUdQLFlBQVksS0FBSyxFQUFFLEVBQUM7SUFDbkJMLGNBQWMsQ0FBQ2EsT0FBTyxDQUFFLFVBQUNDLElBQUksRUFBRUMsQ0FBQyxFQUFNO01BQ2xDLElBQUlBLENBQUMsS0FBSyxDQUFDLEVBQUM7UUFDUkQsSUFBSSxDQUFDUCxLQUFLLENBQUNLLE9BQU8sR0FBRyxHQUFHO1FBQ3hCRSxJQUFJLENBQUNFLFdBQVcsR0FBRyxHQUFHO1FBQ3RCQyxVQUFVLENBQUMsWUFBSztVQUFDSCxJQUFJLENBQUNQLEtBQUssQ0FBQ0ssT0FBTyxHQUFHLEdBQUc7UUFBQyxDQUFDLEVBQUUsR0FBRyxDQUFDO01BQ3JEO01BQ0EsSUFBSUcsQ0FBQyxLQUFLLENBQUMsRUFBQztRQUNSRSxVQUFVLENBQUMsWUFBSztVQUNaSCxJQUFJLENBQUNQLEtBQUssQ0FBQ0ssT0FBTyxHQUFHLEdBQUc7VUFDeEJFLElBQUksQ0FBQ0UsV0FBVyxHQUFHLEdBQUc7VUFDdEJDLFVBQVUsQ0FBQyxZQUFLO1lBQ1pILElBQUksQ0FBQ1AsS0FBSyxDQUFDSyxPQUFPLEdBQUcsR0FBRztVQUM1QixDQUFDLEVBQUUsR0FBRyxDQUFDO1FBQ1gsQ0FBQyxFQUFFLEdBQUcsQ0FBQztNQUVYO0lBQ0osQ0FBQyxDQUFDO0lBQ0ZWLGNBQWMsQ0FBQ1csT0FBTyxDQUFFLFVBQUNDLElBQUksRUFBRUMsQ0FBQyxFQUFNO01BQ2xDLElBQUlBLENBQUMsS0FBSyxDQUFDLEVBQUM7UUFDUkQsSUFBSSxDQUFDUCxLQUFLLENBQUNLLE9BQU8sR0FBRyxHQUFHO1FBQ3hCRSxJQUFJLENBQUNFLFdBQVcsR0FBRyxHQUFHO1FBQ3RCQyxVQUFVLENBQUMsWUFBSztVQUFDSCxJQUFJLENBQUNQLEtBQUssQ0FBQ0ssT0FBTyxHQUFHLEdBQUc7UUFBQyxDQUFDLEVBQUUsR0FBRyxDQUFDO01BQ3JEO01BQ0EsSUFBSUcsQ0FBQyxLQUFLLENBQUMsRUFBQztRQUNSRSxVQUFVLENBQUMsWUFBSztVQUNaSCxJQUFJLENBQUNQLEtBQUssQ0FBQ0ssT0FBTyxHQUFHLEdBQUc7VUFDeEJFLElBQUksQ0FBQ0UsV0FBVyxHQUFHLEdBQUc7VUFDdEJDLFVBQVUsQ0FBQyxZQUFLO1lBQ1pILElBQUksQ0FBQ1AsS0FBSyxDQUFDSyxPQUFPLEdBQUcsR0FBRzs7WUFFeEI7WUFDQUssVUFBVSxDQUFDLFlBQUs7Y0FDWnpCLFFBQVEsQ0FBQ2UsS0FBSyxDQUFDSyxPQUFPLEdBQUcsR0FBRztjQUM1Qm5CLE1BQU0sQ0FBQ2MsS0FBSyxDQUFDSyxPQUFPLEdBQUcsR0FBRztjQUMxQmxCLEtBQUssQ0FBQ2EsS0FBSyxDQUFDSyxPQUFPLEdBQUcsR0FBRztjQUN6QmpCLFFBQVEsQ0FBQ1ksS0FBSyxDQUFDSyxPQUFPLEdBQUcsR0FBRztjQUM1QmpCLFFBQVEsQ0FBQ1ksS0FBSyxDQUFDVyxNQUFNLEdBQUcsSUFBSTtZQUNoQyxDQUFDLEVBQUUsR0FBRyxDQUFDO1VBQ1gsQ0FBQyxFQUFFLEdBQUcsQ0FBQztRQUNYLENBQUMsRUFBRSxHQUFHLENBQUM7TUFDWDtJQUNKLENBQUMsQ0FBQztFQUNOO0FBQ0osQ0FBQyxDQUFDO0FBQ0Y1QixRQUFRLENBQUNnQixnQkFBZ0IsQ0FBQyxjQUFjLEVBQUUsWUFBTTtFQUM1Q0QsWUFBWSxFQUFFLEVBQUM7RUFDZjtFQUNBLElBQUdBLFlBQVksS0FBSyxDQUFDLEVBQUM7SUFBRTtJQUNwQmYsUUFBUSxDQUFDbUIsU0FBUyxDQUFDQyxHQUFHLENBQUMsc0JBQXNCLENBQUM7RUFDbEQ7RUFDQSxJQUFHTCxZQUFZLEtBQUssQ0FBQyxFQUFDO0lBQUU7SUFDcEJGLEtBQUssQ0FBQ00sU0FBUyxDQUFDQyxHQUFHLENBQUMsWUFBWSxDQUFDO0lBQ2pDcEIsUUFBUSxDQUFDbUIsU0FBUyxDQUFDQyxHQUFHLENBQUMsZ0JBQWdCLENBQUM7SUFDeENuQixhQUFhLENBQUNrQixTQUFTLENBQUNDLEdBQUcsQ0FBQywwQkFBMEIsQ0FBQztFQUMzRDtFQUNBLElBQUdMLFlBQVksR0FBRyxDQUFDLEVBQUM7SUFBRTtJQUNsQmYsUUFBUSxDQUFDbUIsU0FBUyxDQUFDRSxNQUFNLENBQUMsc0JBQXNCLENBQUM7SUFDakRyQixRQUFRLENBQUNtQixTQUFTLENBQUNDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQztJQUMxQ25CLGFBQWEsQ0FBQ2tCLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDLDRCQUE0QixDQUFDO0VBQzdEO0VBQ0EsSUFBR0wsWUFBWSxLQUFLLENBQUMsRUFBQztJQUFFO0lBQ3BCZixRQUFRLENBQUNtQixTQUFTLENBQUNFLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQztJQUNsRHJCLFFBQVEsQ0FBQ21CLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDLHNCQUFzQixDQUFDO0lBQzlDcEIsUUFBUSxDQUFDbUIsU0FBUyxDQUFDQyxHQUFHLENBQUMsa0JBQWtCLENBQUM7SUFDMUNuQixhQUFhLENBQUNrQixTQUFTLENBQUNDLEdBQUcsQ0FBQyw0QkFBNEIsQ0FBQztFQUM3RDtFQUNBLElBQUdMLFlBQVksS0FBSyxFQUFFLEVBQUM7SUFBRTtJQUNyQmYsUUFBUSxDQUFDbUIsU0FBUyxDQUFDQyxHQUFHLENBQUMsZ0JBQWdCLENBQUM7SUFDeENuQixhQUFhLENBQUNrQixTQUFTLENBQUNDLEdBQUcsQ0FBQywwQkFBMEIsQ0FBQztJQUN2RE4sS0FBSyxDQUFDSyxTQUFTLENBQUNDLEdBQUcsQ0FBQyxZQUFZLENBQUM7RUFDckM7QUFDSixDQUFDLENBQUMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHN0YXJ0R2FtZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluX19nYW1lLW1hY2hpbmUtYnRuJyk7XG5jb25zdCBzdGFydFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN0YXJ0LXRleHRcIik7XG5cbmNvbnN0IGhvb2tXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhvb2std3JhcCcpOyAvLyDQsdCw0YLRjNC60ZbQstGB0YzQutC40Lkg0LXQu9C10LzQtdC90YIg0LIg0Y/QutC+0LzRgyDQt9C90LDRhdC+0LTQuNGC0YzRgdGPINGF0YPQulxuY29uc3QgaG9va0Zhc3RlbmluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob29rLWZhc3RlcmluZycpOyAvLyDQtdC70LXQvNC10L3RgiDQutGA0ZbQv9C70LXQvdC90Y8g0YXRg9C60LAg0LTQviBnYW1lYm9keVxuXG5jb25zdCBnYW1lQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FtZS1ib2R5XCIpOyAvLyDQtdC70LXQvNC10L3RgiDQtNC+INGP0LrQvtCz0L4g0LrRgNGW0L/QuNGC0YzRgdGPINGF0YPQuiDRliDQu9GW0L3RltGPINC90LAg0Y/QutGW0Lkg0LLRltC9INGB0L/Rg9GB0LrQsNGU0YLRjNGB0Y8g0LTQviDQvNC+0L3QtdGC0L7QulxuY29uc3QgcmVzdWx0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXN1bHRcIik7IC8vINGC0LDQsdC70LjRhtGPINGA0LXQt9GD0LvRjNGC0LDRgtGW0LIg0LPRgNC4XG5jb25zdCBjb2lucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29pbnNcIikgLy8g0LHQsNGC0YzQutGW0LLRgdGM0LrQuNC5INC10LvQtdC80LXQvdGCINC80L7QvdC10YLQvtC6XG5jb25zdCBnYW1lT3ZlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FtZU92ZXJcIik7IC8vINC10LrRgNCw0L0g0Y/QutC40Lkg0LLRltC00L7QsdGA0LDQttCw0ZTRgtGM0YHRjyDQv9C+INC30LDQutGW0L3Rh9C10L3QvdGOINCz0YDQuFxuXG5cbmNvbnN0IEZTID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5GU1wiKVxuY29uc3QgZWxlbXNJbnNpZGVGUyA9IEZTLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzcGFuXCIpIC8vc3BhbiDQtdC70LXQvNC10L3RgtC4INCyINGP0LrRliDQt9Cw0L/QuNGB0YPRlNGC0YzRgdGPINGA0LXQt9GD0LvRjNGC0LDRgiBGU1xuY29uc3QgUkZCID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5SRkJcIilcbmNvbnN0IGVsZW1zSW5zaWRlUkZCID0gUkZCLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzcGFuXCIpICAvL3NwYW4g0LXQu9C10LzQtdC90YLQuCDQsiDRj9C60ZYg0LfQsNC/0LjRgdGD0ZTRgtGM0YHRjyDRgNC10LfRg9C70YzRgtCw0YIgUkZCXG5jb25zdCBFVVIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLkVVUlwiKVxuY29uc3QgZWxlbXNJbnNpZGVFVVIgPSBFVVIucXVlcnlTZWxlY3RvckFsbChcInNwYW5cIikgIC8vc3BhbiDQtdC70LXQvNC10L3RgtC4INCyINGP0LrRliDQt9Cw0L/QuNGB0YPRlNGC0YzRgdGPINGA0LXQt9GD0LvRjNGC0LDRgiBFVVJcbmNvbnN0IGNvaW4zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb2luM1wiKSAvLyDQvNC+0L3QtdGC0LrQsCDRj9C60LAg0LHRg9C00LUg0YHQv9GW0LnQvNCw0L3QsCDQv9C10YDRiNC+0Y5cbmNvbnN0IGNvaW40ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb2luNFwiKSAvLyDQvNC+0L3QtdGC0LrQsCDRj9C60LAg0LHRg9C00LUg0YHQv9GW0LnQvNCw0L3QsCDQtNGA0YPQs9C+0Y5cbmxldCBmcmFtZUNvdW50ZXIgPSAwIC8vINC/0L7RgtGA0ZbQsdC10L0g0LTQu9GPINCy0ZbQtNGB0YLQtdC20YPQstCw0L3QvdGPINC60LvRjtGH0L7QstC40YUg0YLQvtGH0L7QuiDQsNC90ZbQvNCw0YbRltGXXG5zdGFydEdhbWVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBzdGFydFRleHQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgaG9va1dyYXAuY2xhc3NMaXN0LmFkZChcImhvb2stbW92ZS1ob3Jpem9udGFsXCIpOyAvLyDQt9Cw0L/Rg9GB0Log0LPRgNC4XG59KTtcbmNvaW4zLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgKCkgPT57IC8vINCy0ZbQtNGB0YLQtdC20YPRlNC80L4g0LzQvtC80LXQvdGCINC30LDQutGW0L3Rh9C60LXQvdC90Y8g0LDQvdGW0LzQsNGG0ZbRlyDQv9C10YDRiNC+0LPQviDQvNC+0L3QtdGC0LrQuCDQtNC70Y8g0LfQsNC/0YPRgdC60YMg0YbQuNC60LvRgyDQsNC90ZbQvNCw0YbRltC5INC00YDRg9Cz0L7RlyDQvNC+0L3QtdGC0LrQuFxuICAgIGZyYW1lQ291bnRlcisrIC8v0LfQsdGW0LvRjNGI0YPRlCBmcmFtZUNvdW50ZXIg0LrQvtC20L3QvtCz0L4g0YDQsNC30YMg0LrQvtC70Lgg0LLRltC00LHRg9Cy0LDRlNGC0YzRgdGPINCw0L3RltC80LDRhtGW0Y8g0L/QtdGA0YjQvtGXINC80L7QvdC10YLQutC4XG4gICAgLy8gY29uc29sZS5sb2coYGNvaW4gJHtmcmFtZUNvdW50ZXJ9YClcblxuICAgIC8v0L/RgNC40LHQuNGA0LDRlNC80L4g0YHRgtC40LvRliDQsNC90ZbQvNCw0YbRltGXINC/0LXRgNGI0L7Qs9C+INGF0YPQutCwXG4gICAgaG9va1dyYXAuY2xhc3NMaXN0LnJlbW92ZShcImhvb2stY2F0Y2gxLXVwXCIpO1xuICAgIGhvb2tGYXN0ZW5pbmcuY2xhc3NMaXN0LnJlbW92ZShcImhvb2stZmFzdGVyaW5nLWNhdGNoMS11cFwiKTtcbiAgICBob29rV3JhcC5jbGFzc0xpc3QucmVtb3ZlKFwiaG9vay1jYXRjaDEtZG93blwiKTtcbiAgICBob29rRmFzdGVuaW5nLmNsYXNzTGlzdC5yZW1vdmUoXCJob29rLWZhc3RlcmluZy1jYXRjaDEtZG93blwiKTtcblxuICAgIC8vINC/0YDQuNCx0LjRgNCw0ZTQvNC+INC60LvQsNGB0Lgg0LLRltC00L/RgNCw0YbRjNC+0LLQsNC90L7RlyDQsNC90ZbQvNCw0YbRltGXINGA0YPRhdGDINGC0LAg0LTQvtC00LDRlNC80L4g0LDQvdGW0LzQsNGG0ZbRjiDQt9C90LjQutC90LXQvdC90Y8g0LzQvtC90LXRgtC60LhcbiAgICBjb2luMy5jbGFzc0xpc3QucmVtb3ZlKFwiY29pbi1jYXRjaFwiKVxuICAgIGNvaW4zLmNsYXNzTGlzdC5hZGQoXCJjb2luLWRpc2FwcGVhcmFuY2VcIilcbiAgICBjb2luMy5zdHlsZS5vcGFjaXR5ID0gXCIwXCJcblxuICAgIC8vINCw0L3RltC80LDRhtGW0Y8g0L7QvdC+0LLQu9C10L3QvdGPIEZTINC90LAg0YLQsNCx0LvQuNGG0ZYg0LfQsNC/0YPRgdC60LDRlNGC0YzRgdGPINC/0ZbRgdC70Y8g0LfQsNCy0LXRgNGI0LXQvdC90Y8g0LDQvdGW0LzQsNGG0ZbRlyDQt9C90LjQutC90LXQvdC90Y8g0L/QtdGA0YjQvtGXINC80L7QvdC10YLQutC4XG4gICAgaWYoZnJhbWVDb3VudGVyID09PSA3KXtcbiAgICAgICAgZWxlbXNJbnNpZGVGUy5mb3JFYWNoKCAoaXRlbSwgaSkgID0+IHtcbiAgICAgICAgICAgIGlmKCBpID09PSAwKXtcbiAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICAgICAgICAgICAgICBpdGVtLnRleHRDb250ZW50ID0gJzEnO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT57aXRlbS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7fSwgNTAwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGkgPT09IDEpe1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT57XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnRleHRDb250ZW50ID0gJzUnO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvb2tXcmFwLmNsYXNzTGlzdC5hZGQoXCJob29rLW1vdmUtaG9yaXpvbnRhbDJcIik7IC8vINGW0L3RltGG0ZbRjtGU0LzQviDQsNC90ZbQvNCw0YbRltGOINGA0YPRhdGDINC00L4g0LTRgNGD0LPQvtGXINC80L7QvdC10YLQutC4XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApXG4gICAgICAgICAgICAgICAgfSwgMjAwKVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxufSlcbmNvaW40LmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgKCk9PntcbiAgICBmcmFtZUNvdW50ZXIrKyAvL9C30LHRltC70YzRiNGD0ZQgZnJhbWVDb3VudGVyINC60L7QttC90L7Qs9C+INGA0LDQt9GDINC60L7Qu9C4INCy0ZbQtNCx0YPQstCw0ZTRgtGM0YHRjyDQsNC90ZbQvNCw0YbRltGPINC00YDRg9Cz0L7RlyDQvNC+0L3QtdGC0LrQuFxuICAgIC8vIGNvbnNvbGUubG9nKGBjb2luICR7ZnJhbWVDb3VudGVyfWApXG5cbiAgICAvL9C/0YDQuNCx0LjRgNCw0ZTQvNC+INGB0YLQuNC70ZYg0LDQvdGW0LzQsNGG0ZbRlyDQtNGA0YPQs9C+0LPQviDRhdGD0LrQsFxuICAgIGhvb2tXcmFwLmNsYXNzTGlzdC5yZW1vdmUoXCJob29rLWNhdGNoMi11cFwiKTtcbiAgICBob29rRmFzdGVuaW5nLmNsYXNzTGlzdC5yZW1vdmUoXCJob29rLWZhc3RlcmluZy1jYXRjaDItdXBcIik7XG4gICAgaG9va1dyYXAuY2xhc3NMaXN0LnJlbW92ZShcImhvb2stY2F0Y2gyLWRvd25cIik7XG4gICAgaG9va0Zhc3RlbmluZy5jbGFzc0xpc3QucmVtb3ZlKFwiaG9vay1mYXN0ZXJpbmctY2F0Y2gyLWRvd25cIik7XG5cbiAgICAvLyDQv9GA0LjQsdC40YDQsNGU0LzQviDQutC70LDRgdC4INCy0ZbQtNC/0YDQsNGG0YzQvtCy0LDQvdC+0Zcg0LDQvdGW0LzQsNGG0ZbRlyDRgNGD0YXRgyDRgtCwINC00L7QtNCw0ZTQvNC+INCw0L3RltC80LDRhtGW0Y4g0LfQvdC40LrQvdC10L3QvdGPINC00YDRg9Cz0L7RlyDQvNC+0L3QtdGC0LrQuFxuICAgIGNvaW40LmNsYXNzTGlzdC5yZW1vdmUoXCJjb2luLWNhdGNoXCIpXG4gICAgY29pbjQuY2xhc3NMaXN0LmFkZChcImNvaW4tZGlzYXBwZWFyYW5jZVwiKVxuICAgIGNvaW40LnN0eWxlLm9wYWNpdHkgPSBcIjBcIlxuXG4gICAgLy8g0LDQvdGW0LzQsNGG0ZbRjyDQvtC90L7QstC70LXQvdC90Y8gUkZCINGC0LAgRVVSINC90LAg0YLQsNCx0LvQuNGG0ZYg0LfQsNC/0YPRgdC60LDRlNGC0YzRgdGPINC/0ZbRgdC70Y8g0LfQsNCy0LXRgNGI0LXQvdC90Y8g0LDQvdGW0LzQsNGG0ZbRlyDQt9C90LjQutC90LXQvdC90Y8g0LTRgNGD0LPQvtGXINC80L7QvdC10YLQutC4XG4gICAgaWYoZnJhbWVDb3VudGVyID09PSAxNCl7XG4gICAgICAgIGVsZW1zSW5zaWRlUkZCLmZvckVhY2goIChpdGVtLCBpKSAgPT4ge1xuICAgICAgICAgICAgaWYoIGkgPT09IDApe1xuICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgICAgICAgICAgICAgIGl0ZW0udGV4dENvbnRlbnQgPSAnMSc7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PntpdGVtLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjt9LCA1MDApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSA9PT0gMSl7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PntcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0udGV4dENvbnRlbnQgPSAnMCc7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwKVxuICAgICAgICAgICAgICAgIH0sIDIwMClcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBlbGVtc0luc2lkZUVVUi5mb3JFYWNoKCAoaXRlbSwgaSkgID0+IHtcbiAgICAgICAgICAgIGlmKCBpID09PSAwKXtcbiAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcbiAgICAgICAgICAgICAgICBpdGVtLnRleHRDb250ZW50ID0gJzEnO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT57aXRlbS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7fSwgNTAwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGkgPT09IDEpe1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT57XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnRleHRDb250ZW50ID0gJzAnO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vINC/0YDQuNGF0L7QstGD0ZTQvNC+INC10LvQtdC80LXQvdGC0Lgg0LPRgNC4INGWINCy0ZbQtNC+0LHRgNCw0LbQsNGU0LzQviDQtdC60YDQsNC9INC30LDQutGW0L3Rh9C10L3QvdGPXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVCb2R5LnN0eWxlLm9wYWNpdHkgPSBcIjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdHlsZS5vcGFjaXR5ID0gXCIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2lucy5zdHlsZS5vcGFjaXR5ID0gXCIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lT3Zlci5zdHlsZS5vcGFjaXR5ID0gXCIxXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYW1lT3Zlci5zdHlsZS56SW5kZXggPSBcIjEwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMClcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwKVxuICAgICAgICAgICAgICAgIH0sIDIwMClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59KVxuaG9va1dyYXAuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKSA9PiB7XG4gICAgZnJhbWVDb3VudGVyKysgLy8g0LfQsdGW0LvRjNGI0YPRlCBmcmFtZUNvdW50ZXIg0LrQvtC20L3QvtCz0L4g0YDQsNC30YMg0LrQvtC70Lgg0LLRltC00LHRg9Cy0LDRlNGC0YzRgdGPINCw0L3RltC80LDRhtGW0Y8g0YXRg9C60LBcbiAgICAvLyBjb25zb2xlLmxvZyhmcmFtZUNvdW50ZXIpXG4gICAgaWYoZnJhbWVDb3VudGVyID09PSAxKXsgLy/RhNGW0LrRgdCw0YbRltGPINGF0YPQutCwINC/0LXRgNC10LQg0L/QtdGA0YjQvtGOINC80L7QvdC10YLQvtGOXG4gICAgICAgIGhvb2tXcmFwLmNsYXNzTGlzdC5hZGQoXCJob29rLXBvc2l0aW9uLWNhdGNoMVwiKVxuICAgIH1cbiAgICBpZihmcmFtZUNvdW50ZXIgPT09IDMpeyAvLyDQu9C+0LPRltC60LAg0YDRg9GF0YMg0L/QtdGA0YjQvtGXINC80L7QvdC10YLQutC4INC/0ZbRgdC70Y8g0YLQvtCz0L4g0Y/QuiDRl9GXINGF0YPQutC90YPQu9C4XG4gICAgICAgIGNvaW4zLmNsYXNzTGlzdC5hZGQoXCJjb2luLWNhdGNoXCIpXG4gICAgICAgIGhvb2tXcmFwLmNsYXNzTGlzdC5hZGQoXCJob29rLWNhdGNoMS11cFwiKTtcbiAgICAgICAgaG9va0Zhc3RlbmluZy5jbGFzc0xpc3QuYWRkKFwiaG9vay1mYXN0ZXJpbmctY2F0Y2gxLXVwXCIpO1xuICAgIH1cbiAgICBpZihmcmFtZUNvdW50ZXIgPCA3KXsgLy8g0LvQvtCz0ZbQutCwINCw0L3RltC80LDRhtGW0Zcg0YDRg9GF0YMg0YXRg9C60LAg0LTQviDQv9C10YDRiNC+0Zcg0LzQvtC90LXRgtC60LhcbiAgICAgICAgaG9va1dyYXAuY2xhc3NMaXN0LnJlbW92ZShcImhvb2stbW92ZS1ob3Jpem9udGFsXCIpO1xuICAgICAgICBob29rV3JhcC5jbGFzc0xpc3QuYWRkKFwiaG9vay1jYXRjaDEtZG93blwiKTtcbiAgICAgICAgaG9va0Zhc3RlbmluZy5jbGFzc0xpc3QuYWRkKFwiaG9vay1mYXN0ZXJpbmctY2F0Y2gxLWRvd25cIik7XG4gICAgfVxuICAgIGlmKGZyYW1lQ291bnRlciA9PT0gOCl7IC8vINC70L7Qs9GW0LrQsCDQsNC90ZbQvNCw0YbRltGXINGA0YPRhdGDINGF0YPQutCwINC00L4g0LTRgNGD0LPQvtGXINC80L7QvdC10YLQutC4XG4gICAgICAgIGhvb2tXcmFwLmNsYXNzTGlzdC5yZW1vdmUoXCJob29rLW1vdmUtaG9yaXpvbnRhbDJcIik7XG4gICAgICAgIGhvb2tXcmFwLmNsYXNzTGlzdC5hZGQoXCJob29rLXBvc2l0aW9uLWNhdGNoMlwiKVxuICAgICAgICBob29rV3JhcC5jbGFzc0xpc3QuYWRkKFwiaG9vay1jYXRjaDItZG93blwiKTtcbiAgICAgICAgaG9va0Zhc3RlbmluZy5jbGFzc0xpc3QuYWRkKFwiaG9vay1mYXN0ZXJpbmctY2F0Y2gyLWRvd25cIik7XG4gICAgfVxuICAgIGlmKGZyYW1lQ291bnRlciA9PT0gMTApeyAvLyDQu9C+0LPRltC60LAg0YDRg9GF0YMg0LTRgNGD0LPQvtGXINC80L7QvdC10YLQutC4INC/0ZbRgdC70Y8g0YLQvtCz0L4g0Y/QuiDRl9GXINGF0YPQutC90YPQu9C4XG4gICAgICAgIGhvb2tXcmFwLmNsYXNzTGlzdC5hZGQoXCJob29rLWNhdGNoMi11cFwiKTtcbiAgICAgICAgaG9va0Zhc3RlbmluZy5jbGFzc0xpc3QuYWRkKFwiaG9vay1mYXN0ZXJpbmctY2F0Y2gyLXVwXCIpO1xuICAgICAgICBjb2luNC5jbGFzc0xpc3QuYWRkKFwiY29pbi1jYXRjaFwiKVxuICAgIH1cbn0pO1xuIl19
